<div  ng-controller="uploaddispatchCtrl">
	<div class="row wrapper border-bottom white-bg page-heading">
	    <div class="col-lg-9">
	        <h2>Contacts</h2>
	        <ol class="breadcrumb">
	            <li>
	                <a ui-sref="dashboards.main">Home</a>
	            </li>
	            
	            <li class="active">
	                <strong>Upload Dispatch</strong>
	            </li>
	        </ol>
		</div>
	</div>
    <div class="wrapper wrapper-content animated fadeIn">
		    <div class="row">
		        <div class="col-lg-12">
		           <!--  <div class="ibox float-e-margins">
		                <div class="ibox-title">
		                    <h5>Upload your CSV here</h5>

		                    
		                </div>
		                <div class="ibox-content">
		                    <form action="" class="dropzone" drop-zone="" id="file-dropzone">
		                        <button type="submit" class="btn btn-primary pull-right">Submit this form!</button>
		                    </form>
		                    <div>
		                        <div class="m text-right">
		                            
		                        </div>
		                    </div>
		                </div>
		            </div> -->
		            <span>
		            	<a href="./sample-csv/despatch.csv" class="btn btn-info"> Download Template</a>
		       		</span>
		       		<span class="btn btn-danger btn-file">
		            	Upload CSV 
		            	<input type="file" file-change="handler($event,files)" ng-model="MyFiles" class="custom-file-input"/>		            	
		       		</span>
		       		
		       		<div class="ibox-content" ng-if="dispatchList" id="dispatchGrid">
		       			<div class="row">
		       				<div class="col-lg-12">
						    	<div class="form-group">
				                    <div ng-if="message" class="alert alert-success"> <h3> {{message}} </h3> </div>
				                </div>
			                </div>
		       				<div class="col-lg-12">
			       				<div class="pull-left">
			       					<button type="submit" class="btn btn-primary" ng-click="Save()">Save</button>

			       					<button type="submit" class="btn btn-primary" ng-click="reset()">Reset</button>	
			       				</div>
			        			<div class="pull-right">
			       					<input type="text" ng-model="txtsearch" placeholder="Search">
			       				</div>
		       				</div>
		       			</div>
					    <table datatable="ng" class="table table-striped table-bordered table-hover dataTables-example">
					        <thead>
					        <tr>
					            <th>Date</th>
					            <th>Transport</th>
					            <th>LR No</th>
					            <th>Invoice No</th>
					            <th>Parcel No</th>
					            <th>Company</th>
					            <th>Item</th>
					            <th>Rate</th>
					            <th>Pieces</th>	
					            <th>Status</th>
					            <th>Errors</th>					            
					        </tr>
					        </thead>
					        <tbody>
					        <tr ng-repeat="dispatch in dispatchList | filter:txtsearch" >
					            <td>{{ dispatch.date }}</td>
					            <td>{{ dispatch.transport }}</td>
					            <td>{{ dispatch.LRno }}</td>
					            <td>{{ dispatch.invoiceno }}</td>
					            <td>{{ dispatch.parcelno }}</td>
					            <td>{{ dispatch.company }}</td>
					            <td>{{ dispatch.item }}</td>
					            <td>{{ dispatch.rate }}</td>
					            <td>{{ dispatch.pieces }}</td> 
					            <td> 
					            	<i class="fa fa-check" ng-show="{{dispatch.status}}"></i>
					            	<i class="fa fa-times" ng-show="!{{dispatch.status}}"></i>
					            </td>
					            <!-- <td class="error"> {{ dispatch.error.date}} {{ dispatch.error.transport}}</td> -->
					             <td class="error"> <p ng-repeat = "error in dispatch.errors"> {{error.error}} </p> </td>
					           <!--  <td>{{ despatch.firstName }}</td>
					            <td>{{ despatch.lastName }}</td> -->
					        </tr>
					        </tbody>
					    </table>
					</div>
		        </div>
		    </div>

	</div>
</div>